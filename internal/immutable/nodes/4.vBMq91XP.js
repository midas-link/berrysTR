import{t as I,a as N,c as Yt,d as kt}from"../chunks/3_qBB5hz.js";import"../chunks/Z9zBgBAY.js";import{W as St,m as x,ao as fe,ap as Y,Y as wt,c as r,w as pe,o as t,aJ as Kt,r as l,aq as a,l as p,at as Ut,au as Le,aK as ee}from"../chunks/CMFmae-t.js";import{s as v}from"../chunks/DnaU8b9l.js";import{i as ze}from"../chunks/BJKpdqZD.js";import{e as Re,i as He}from"../chunks/Cj7RaS5_.js";import{h as Zt}from"../chunks/BQXnkVNR.js";import{s as _,c as Jt,b as ue,r as be,a as Wt}from"../chunks/BvlNnonT.js";import{e as f}from"../chunks/D44X9R_d.js";import{b as me,a as Ct,c as Qt}from"../chunks/BqnV01kF.js";import{p as _t}from"../chunks/CWmzcjye.js";import{i as Nt}from"../chunks/CwxruISI.js";import{o as Xt}from"../chunks/NS6W2iqr.js";import{g as ea}from"../chunks/BVx4_YPo.js";import{b as m}from"../chunks/C-6KJ0dT.js";import{g as ta}from"../chunks/TEiERNDU.js";import{p as aa}from"../chunks/CD2r9Ooe.js";import{l as qt,p as te,b as sa}from"../chunks/N765AcLg.js";const ia=!0,xa=Object.freeze(Object.defineProperty({__proto__:null,prerender:ia},Symbol.toStringTag,{value:"Module"})),la=[{date:"09.12.2025",time:"12:16",address:"İnönü Caddesi 123",city:"Ankara",state:"Ankara",zip:"06000",tankGrade:"Diesel #2",tankNo:"1",preventedDelivery:"GASOLINE"},{date:"09.01.2025",time:"9:04",address:"Cumhuriyet Caddesi 45",city:"İstanbul",state:"İstanbul",zip:"34400",tankGrade:"Diesel #2",tankNo:"1",preventedDelivery:"GASOLINE"},{date:"08.14.2025",time:"5:52",address:"Gazi Bulvarı 89",city:"İzmir",state:"İzmir",zip:"35000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"6",preventedDelivery:"DIESEL"},{date:"07.09.2025",time:"2:40",address:"Atatürk Bulvarı 678",city:"Bursa",state:"Bursa",zip:"16000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"4",preventedDelivery:"DIESEL"},{date:"06.30.2025",time:"23:28",address:"Fatih Sultan Mehmet Caddesi 102",city:"Antalya",state:"Antalya",zip:"07000",tankGrade:"Diesel #2",tankNo:"2",preventedDelivery:"GASOLINE"},{date:"06.24.2025",time:"20:16",address:"Yıldırım Beyazıt Caddesi 321",city:"Konya",state:"Konya",zip:"42000",tankGrade:"Diesel #2",tankNo:"4",preventedDelivery:"GASOLINE"},{date:"06.03.2025",time:"17:04",address:"Gazi Osman Paşa Bulvarı 250",city:"Eskişehir",state:"Eskişehir",zip:"26000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"05.19.2025",time:"13:52",address:"Dumlupınar Bulvarı 78",city:"Samsun",state:"Samsun",zip:"55000",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"05.14.2025",time:"10:40",address:"Milli Egemenlik Caddesi 110",city:"Kayseri",state:"Kayseri",zip:"38000",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"7",preventedDelivery:"DIESEL"},{date:"04.23.2025",time:"7:28",address:"Zafer Caddesi 505",city:"Trabzon",state:"Trabzon",zip:"61000",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"3",preventedDelivery:"DIESEL"},{date:"04.22.2025",time:"4:16",address:"Yenişehir Mahallesi 24",city:"Mersin",state:"Mersin",zip:"33000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"6",preventedDelivery:"DIESEL"},{date:"04.04.2025",time:"1:04",address:"Hükümet Caddesi 220",city:"Adana",state:"Adana",zip:"01000",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"02.22.2025",time:"21:52",address:"Mevlana Caddesi 390",city:"Diyarbakır",state:"Diyarbakır",zip:"21000",tankGrade:"Diesel #2",tankNo:"4",preventedDelivery:"GASOLINE"},{date:"02.11.2025",time:"18:40",address:"Cumhuriyet Bulvarı 50",city:"Gaziantep",state:"Gaziantep",zip:"27000",tankGrade:"GAS 91 NO ETH 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"01.29.2025",time:"15:28",address:"Kazım Karabekir Caddesi 15",city:"Erzurum",state:"Erzurum",zip:"25000",tankGrade:"Diesel #2",tankNo:"2",preventedDelivery:"GASOLINE"},{date:"01.18.2025",time:"12:16",address:"Atatürk Caddesi 9",city:"Sivas",state:"Sivas",zip:"58000",tankGrade:"High Ethanol ",tankNo:"4",preventedDelivery:"DIESEL"},{date:"01.12.2025",time:"9:04",address:"İstiklal Caddesi 150",city:"Kocaeli",state:"Kocaeli",zip:"41000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"4",preventedDelivery:"DIESEL"},{date:"01.03.2025",time:"5:52",address:"Anadolu Bulvarı 20",city:"Malatya",state:"Malatya",zip:"44000",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"4",preventedDelivery:"DIESEL"},{date:"12.22.2024",time:"2:40",address:"Sakarya Mahallesi 200",city:"Van",state:"Van",zip:"65000",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"12.21.2024",time:"23:28",address:"Mithat Paşa Caddesi 905",city:"Şanlıurfa",state:"Şanlıurfa",zip:"63000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"4",preventedDelivery:"DIESEL"},{date:"12.13.2024",time:"20:16",address:"Kurtuluş Caddesi 101",city:"Çorum",state:"Çorum",zip:"19000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"5",preventedDelivery:"DIESEL"},{date:"12.02.2024",time:"17:04",address:"Zafer Mahallesi 45",city:"Aydın",state:"Aydın",zip:"09000",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"11.09.2024",time:"13:52",address:"Cengiz Topel Caddesi 312",city:"Balıkesir",state:"Balıkesir",zip:"10000",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"10.30.2024",time:"10:40",address:"Şehitler Caddesi 77",city:"Manisa",state:"Manisa",zip:"45000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"09.09.2024",time:"7:28",address:"Fatih Mahallesi 55",city:"Elazığ",state:"Elazığ",zip:"23000",tankGrade:"High Ethanol ",tankNo:"5",preventedDelivery:"DIESEL"},{date:"08.10.2024",time:"4:16",address:"Bahçelievler Mahallesi 120",city:"Kahramanmaraş",state:"Kahramanmaraş",zip:"46000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"06.28.2024",time:"1:04",address:"Cumhuriyet Caddesi 15",city:"Uşak",state:"Uşak",zip:"64000",tankGrade:"Diesel #2",tankNo:"4",preventedDelivery:"GASOLINE"},{date:"05.01.2024",time:"21:52",address:"Cumhuriyet Meydanı 45",city:"Ordu",state:"Ordu",zip:"52000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"4",preventedDelivery:"DIESEL"},{date:"04.28.2024",time:"18:40",address:"Yunus Emre Caddesi 170",city:"Denizli",state:"Denizli",zip:"20000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"4",preventedDelivery:"DIESEL"}];function Dt(){document.querySelectorAll(".search-fields input").forEach(d=>{const K=d.id+"_"+Math.random().toString(36).substring(2,9);d.setAttribute("name",K),(d.id==="State"||d.id==="Zip"||d.id==="Date"||d.id==="ST-address"||d.id==="City"||d.id==="Fuel")&&(d.setAttribute("autocomplete","new-password"),d.setAttribute("data-lpignore","true"),d.setAttribute("data-form-type","other"))})}async function ra(){return la}var na=I('<div class="dropdown-item svelte-1o6jmi1"> </div>'),oa=I('<label> </label> <div class="custom-dropdown svelte-1o6jmi1"><div class="input-wrapper svelte-1o6jmi1"><input> <div class="dropdown-arrow svelte-1o6jmi1"></div></div> <div></div></div>',1);function Et(ye,d){const K=qt(d,["children","$$slots","$$events","$$legacy"]),he=qt(K,["prerender","id","label","placeholder","options","value","onChange"]);St(d,!1);let ge=te(d,"id",8,""),U=te(d,"label",8,""),ke=te(d,"placeholder",8,"Select or type"),F=te(d,"options",24,()=>[]),ae=te(d,"value",12,""),Te=te(d,"onChange",8,()=>{});const L=!0;let y=x(!1),D=x(),n=x([...F()]);function se(){p(y,!t(y)),t(y)&&p(n,[...F()])}function T(u){ae(u),Te()(u),p(y,!1)}function Ge(){const u=ae().toLowerCase();p(n,F().filter(B=>B.toLowerCase().includes(u))),p(y,!0)}function ie(u){t(D)&&!t(D).contains(u.target)&&p(y,!1)}function le(u){u.stopPropagation(),p(n,[...F()]),se()}Nt();var V=oa();f("click",Kt,ie);var j=fe(V),$e=r(j,!0);l(j);var re=a(j,2),ne=r(re),G=r(ne);be(G);let oe;var _e=a(G,2);l(ne);var Z=a(ne,2);let J;return Re(Z,5,()=>t(n),He,(u,B)=>{var R=na(),qe=r(R,!0);l(R),Y(()=>v(qe,t(B))),f("click",R,()=>T(t(B))),N(u,R)}),l(Z),l(re),sa(re,u=>p(D,u),()=>t(D)),Y(u=>{_(j,"for",ge()),v($e,U()),oe=Jt(G,oe,{id:ge(),type:"text",placeholder:ke(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",...he},"svelte-1o6jmi1"),J=ue(Z,1,"dropdown-content svelte-1o6jmi1",null,J,u)},[()=>({show:t(y)})],pe),me(G,ae),f("input",G,Ge),f("focus",G,()=>{p(n,[...F()]),p(y,!0)}),f("keydown",G,function(u){Qt.call(this,d,u)}),f("click",_e,le),N(ye,V),Ct(d,"prerender",L),wt({prerender:L})}var da=Yt('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-fbqi4s"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-fbqi4s"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-fbqi4s"><\/script> <meta charset="UTF-8" class="svelte-fbqi4s"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-fbqi4s"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-fbqi4s"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-fbqi4s">',1),ca=I('<tr><td colspan="4" class="details-cell svelte-fbqi4s"><div class="details-header svelte-fbqi4s">Details:</div> <div class="details-content svelte-fbqi4s"> <br class="svelte-fbqi4s"> <span class="label svelte-fbqi4s">Full Address:</span> <br class="svelte-fbqi4s"> <span class="label svelte-fbqi4s">Tank Grade:</span> <span class="label svelte-fbqi4s">Tank No.:</span> <br class="svelte-fbqi4s"> <span class="label svelte-fbqi4s">Fuel Prevented:</span> </div></td><td class="svelte-fbqi4s"><button class="more-details svelte-fbqi4s">See Delivery Details</button></td></tr>'),va=I('<tr><td class="svelte-fbqi4s"> </td><td class="svelte-fbqi4s"> </td><td class="svelte-fbqi4s"> </td><td class="svelte-fbqi4s"> </td></tr> <!>',1),fa=I('<tr class="svelte-fbqi4s"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-fbqi4s">No results found</td></tr>'),pa=I('<div class="card-details svelte-fbqi4s"><hr class="svelte-fbqi4s"> <div class="details-header svelte-fbqi4s">Details:</div> <div class="details-content svelte-fbqi4s"><div class="detail-row svelte-fbqi4s"> </div> <div class="detail-row svelte-fbqi4s"><span class="label svelte-fbqi4s">Full Address:</span> </div> <div class="detail-row svelte-fbqi4s"><span class="label svelte-fbqi4s">Tank Grade:</span> <span class="label svelte-fbqi4s">Tank No:</span> </div> <div class="detail-row svelte-fbqi4s"><span class="label svelte-fbqi4s">Fuel Prevented:</span> </div> <button class="more-details mobile-details-btn svelte-fbqi4s">See Delivery Details</button></div></div>'),ua=I('<div><div class="card-header svelte-fbqi4s"><div class="card-item svelte-fbqi4s"><span class="card-label svelte-fbqi4s"> </span></div> <div class="card-item svelte-fbqi4s"><span class="card-value svelte-fbqi4s"> </span> <span class="card-value svelte-fbqi4s" style="margin-left: 2vw;"> </span> <span class="card-value svelte-fbqi4s" style="margin-left: 2vw;"> </span> <span class="card-value svelte-fbqi4s" style="position: relative;margin-left:auto"> </span></div></div> <!></div>'),ba=I('<div class="no-results svelte-fbqi4s">No results found</div>'),ma=I('<header class="svelte-fbqi4s"><div class="header-container svelte-fbqi4s"><div class="top-header svelte-fbqi4s"><a class="top-header-link svelte-fbqi4s" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-fbqi4s" href=" ">Contact Us</a></div> <div class="header svelte-fbqi4s"><div class="header-background svelte-fbqi4s"></div> <div class="hamburger-menu svelte-fbqi4s" id="hamburger-menu"><span class="svelte-fbqi4s"></span> <span class="svelte-fbqi4s"></span> <span class="svelte-fbqi4s"></span></div> <a class="svelte-fbqi4s">Home</a> <a class="svelte-fbqi4s">Inventory</a> <a class="svelte-fbqi4s">Vehicle Logging</a> <a class="svelte-fbqi4s">Site Data</a> <a class="svelte-fbqi4s">Analytics</a> <input type="text" placeholder="Search..." class="svelte-fbqi4s"> <img alt="Berrys Logo" class="svelte-fbqi4s"></div></div></header> <div class="mobile-sidebar svelte-fbqi4s" id="mobile-sidebar"><a class="svelte-fbqi4s">Home</a> <a class="svelte-fbqi4s">Vehicle Logging</a> <a class="svelte-fbqi4s">Cross-Drop Prevention</a> <a class="svelte-fbqi4s">Site Data</a> <a class="svelte-fbqi4s">Inventory</a> <a class="svelte-fbqi4s">Analytics</a> <span class="footer-text svelte-fbqi4s">Contact Us <br class="svelte-fbqi4s"> Berrys Technologies Ltd 141 Lichfield Road, Birmingham ,  B6 5SP , United Kingdom <br class="svelte-fbqi4s"> 0121 558 4411 <br class="svelte-fbqi4s"> enquiries@berrys.com</span></div> <div class="overlay svelte-fbqi4s" id="overlay"></div> <div class="sub-header-container svelte-fbqi4s"><div class="sub-header svelte-fbqi4s"><img alt="Cross-drop graphic" class="subheader-image svelte-fbqi4s"> <h1 class="svelte-fbqi4s">Cross-drop prevention</h1> <span class="svelte-fbqi4s">Midas Elbow prevents unloading errors by detecting the product before its dropped into the underground storage tank. View prevented contamination instances below, either live or by custom search fields.</span></div> <div class="breadcrumb svelte-fbqi4s"><a class="svelte-fbqi4s">Home</a> / <span class="svelte-fbqi4s">Cross-drop prevention</span></div></div> <main class="cross-drop-page svelte-fbqi4s"><div class="main-container svelte-fbqi4s"><button class="toggle-search-btn svelte-fbqi4s"><label for="search-fields" class="search-label svelte-fbqi4s">Search <span style="font-size:1rem" class="svelte-fbqi4s"> </span></label></button> <div><label for="ST-address" class="svelte-fbqi4s">Address</label> <input type="text" id="ST-address" name="ST-address" autocomplete="off" class="svelte-fbqi4s"> <!> <!> <label for="Zip" class="svelte-fbqi4s">Zip</label> <input type="text" id="Zip" name="Zip" autocomplete="off" class="svelte-fbqi4s"> <label for="Date" class="svelte-fbqi4s">Date</label> <input type="date" id="Date" name="Date" autocomplete="off" placeholder="DD.MM.YYYY" class="svelte-fbqi4s"> <label for="Fuel" class="svelte-fbqi4s">Fuel</label> <input type="text" id="Fuel" name="Fuel" autocomplete="off" class="svelte-fbqi4s"> <div class="button-container svelte-fbqi4s"><button class="search-button svelte-fbqi4s">Search</button> <button class="clear-button svelte-fbqi4s">Clear</button></div></div> <div class="table-header svelte-fbqi4s"><div class="live-status svelte-fbqi4s"><div class="toggle-live svelte-fbqi4s"><label for="table-type" class="table-type svelte-fbqi4s">LIVE <span class="live-indicator svelte-fbqi4s"></span></label></div> <label for="table-type" class="table-type svelte-fbqi4s"><span id="current-datetime" class="current-time svelte-fbqi4s"></span></label></div> <div class="export-dropdown svelte-fbqi4s"><button class="export-button svelte-fbqi4s">Export As ▼</button> <div class="dropdown-content svelte-fbqi4s" id="exportDropdown"><a href=" " class="svelte-fbqi4s">CSV</a> <a href=" " class="svelte-fbqi4s">PDF</a></div></div></div> <div class="data-container svelte-fbqi4s"><table class="desktop-view svelte-fbqi4s"><thead class="svelte-fbqi4s"><tr class="svelte-fbqi4s"><th class="svelte-fbqi4s">Date</th><th class="svelte-fbqi4s">Time</th><th class="svelte-fbqi4s">Zip</th><th class="svelte-fbqi4s">Prevented Delivery</th></tr></thead><tbody class="svelte-fbqi4s"><!></tbody></table> <div class="mobile-card-view svelte-fbqi4s"><!></div></div></div></main> <footer class="svelte-fbqi4s"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-fbqi4s"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-fbqi4s">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-fbqi4s"></div></footer>',1);function Ia(ye,d){St(d,!1);let K=x(),he=x();const ge=ea(aa).url.pathname;let U=x(!1);function ke(e){ta(`${m}/deliveryDetail/${e.zip}`,{state:{from:ge,address:e.address,city:e.city,state:e.state,date:e.date,time:e.time,siteCode:e.zip}})}function F(e){if(!e)return"";const c=new Date(e).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".");return console.log(c),c}function ae(){p(U,!t(U))}function Te(){const e=document.getElementById("hamburger-menu"),s=document.getElementById("mobile-sidebar"),c=document.getElementById("overlay");e.addEventListener("click",function(){s.classList.toggle("active"),c.style.display=s.classList.contains("active")?"block":"none"}),c.addEventListener("click",function(){s.classList.remove("active"),c.style.display="none"}),s.querySelectorAll("a").forEach(i=>{i.addEventListener("click",function(){s.classList.remove("active"),c.style.display="none"})})}let L=[],y=x([]),D=x([]),n=x({address:"",state:"",city:"",zip:"",date:"",fuel:""});function se(e){return e%2===0?"row-even":"row-odd"}function T(){p(y,L.filter(e=>{const s=!t(n).address||e.address&&e.address.toLowerCase().includes(t(n).address.toLowerCase()),c=!t(n).state||e.state&&e.state.toLowerCase().includes(t(n).state.toLowerCase()),h=!t(n).city||e.city&&e.city.toLowerCase().includes(t(n).city.toLowerCase()),i=!t(n).zip||e.zip&&e.zip.toString().includes(t(n).zip),o=!t(n).date||e.date&&e.date.includes(F(t(n).date)),q=!t(n).fuel||e.preventedDelivery&&e.preventedDelivery.toLowerCase().includes(t(n).fuel.toLowerCase());return s&&c&&h&&i&&o&&q})),p(D,Array(t(y).length).fill(!1)),j()}function Ge(){p(n,{address:"",state:"",city:"",zip:"",date:"",fuel:""}),p(y,[...L]),p(D,Array(t(y).length).fill(!1)),j(!0)}function ie(e){if(!e)return"";const[s,c,h]=e.split("."),i=new Date(h,s-1,c);if(isNaN(i.getTime()))return e;const o=new Date;if((o-i)/(1e3*60)<=30)return"Just now";if(i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()&&i.getFullYear()===o.getFullYear())return"Today";const g=new Date(o);if(g.setDate(o.getDate()-1),i.getDate()===g.getDate()&&i.getMonth()===g.getMonth()&&i.getFullYear()===g.getFullYear())return"Yesterday";const k=new Date(o);if(k.setDate(o.getDate()-2),i.getDate()===k.getDate()&&i.getMonth()===k.getMonth()&&i.getFullYear()===k.getFullYear())return"Two days ago";const S={year:"numeric",month:"long",day:"numeric"};return i.toLocaleDateString("en-US",S)}function le(e){let s=[...t(D)];s[e]=!s[e],p(D,s)}function V(){const e=document.getElementById("current-datetime");if(e){const s=new Date,c={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};e.textContent=s.toLocaleDateString("en-US",c)}}function j(e=!1){const s=document.querySelector(".toggle-live");!e&&$e()?s.style.display="none":s.style.display="block"}function $e(){return Object.values(t(n)).some(e=>e.trim()!=="")}function re(){document.getElementById("exportDropdown").classList.toggle("show")}function ne(){const s=document.querySelector("table").cloneNode(!0);s.querySelectorAll(".more-details").forEach(b=>{b.parentNode.textContent=""});const h=s.querySelectorAll("tr");let i=[];const o=[];h[0].querySelectorAll("th").forEach(b=>{o.push(b.textContent.trim())}),i.push(o.join(","));for(let b=1;b<h.length;b++){const C=[];h[b].querySelectorAll("td").forEach(z=>{let A=z.textContent.trim().replace(/"/g,'""');C.push(`"${A}"`)}),C.length>0&&i.push(C.join(","))}const E=i.join(`
`),g=new Blob([E],{type:"text/csv;charset=utf-8;"}),k=new Date,S=k.toISOString().split("T")[0],w=k.toTimeString().split(" ")[0].replace(/:/g,"-"),W=`${document.location.pathname.includes("vehicle-logging")?"vehicle_logging":"cross-drops"}_${S}_${w}.csv`;if("showSaveFilePicker"in window){async function b(){try{const H=await(await window.showSaveFilePicker({suggestedName:W,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await H.write(g),await H.close()}catch(C){C.name!=="AbortError"&&$()}}b()}else $();function $(){const b=document.createElement("a");b.href=URL.createObjectURL(g),b.setAttribute("download",W),document.body.appendChild(b),b.click(),document.body.removeChild(b)}}async function G(){try{const{jsPDF:e}=window.jspdf;if(!e)throw new Error("jsPDF library not found");const s=new e;s.setFont("helvetica","bold"),s.setFontSize(16),s.text("Cross Drops Prevention Data",14,15);const c=new Date().toLocaleString();s.setFontSize(10),s.setFont("helvetica","normal"),s.text(`Generated: ${c}`,14,25);const h=document.querySelector("table");if(!h)throw new Error("Table not found");const i=h.cloneNode(!0);i.querySelectorAll(".more-details").forEach(S=>{const w=S.closest("td, th");w&&(w.textContent="")}),s.autoTable({html:i,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const q=new Date,E=q.toISOString().split("T")[0],g=q.toTimeString().split(" ")[0].replace(/:/g,"-"),k=`cross_drops_${E}_${g}.pdf`;if("showSaveFilePicker"in window)try{const w=await(await window.showSaveFilePicker({suggestedName:k,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await w.write(s.output("blob")),await w.close()}catch(S){console.error("File save error:",S),oe(s,k)}else oe(s,k);return!0}catch(e){return console.error("PDF generation failed:",e),!1}}function oe(e,s){e.save(s)}function _e(e){if(!e.target.matches(".export-button"))for(var s=document.getElementsByClassName("dropdown-content"),c=0;c<s.length;c++){var h=s[c];h.classList.contains("show")&&h.classList.remove("show")}}Xt(async()=>{Te(),V(),Dt(),L=await ra(),p(y,[...L]),p(D,Array(L.length).fill(!1)),p(K,[...new Set(L.map(s=>s.state).filter(s=>s&&s.trim()!==""))]),p(he,[...new Set(L.map(s=>s.city).filter(s=>s&&s.trim()!==""))]),Dt();const e=setInterval(V,1e3);return window.addEventListener("click",_e),()=>{clearInterval(e),window.removeEventListener("click",_e)}}),Nt();var Z=ma();Zt(e=>{var s=da();Ut.title="Cross-drops",Le(12),N(e,s)});var J=fe(Z),u=r(J),B=a(r(u),2),R=r(B);Wt(R,`      background: url(${m??""}/svg/Vector_1.svg) no-repeat left center; mask-image: url(${m??""}/svg/Vector_1.svg'); -webkit-mask-image: url(${m??""}/svg/Vector_1.svg);`);var qe=a(R,4);_(qe,"href",`${m??""}/home`);var Ye=a(qe,2);_(Ye,"href",`${m??""}/inventory`);var Ke=a(Ye,2);_(Ke,"href",`${m??""}/vehicle-logging`);var Ue=a(Ke,2);_(Ue,"href",`${m??""}/site-data`);var Ze=a(Ue,2);_(Ze,"href",`${m??""}/analytics`);var At=a(Ze,4);_(At,"src",`${m??""}/images/Midas_Link_logo.png`),l(B),l(u),l(J);var xe=a(J,2),Je=r(xe);_(Je,"href",`${m??""}/home`);var We=a(Je,2);_(We,"href",`${m??""}/vehicle-logging`);var Qe=a(We,2);_(Qe,"href",`${m??""}/cross-drops`);var Xe=a(Qe,2);_(Xe,"href",`${m??""}/site-data`);var et=a(Xe,2);_(et,"href",`${m??""}/inventory`);var Lt=a(et,2);_(Lt,"href",`${m??""}/analytics`),Le(2),l(xe);var Ie=a(xe,4),Oe=r(Ie),zt=r(Oe);_(zt,"src",`${m??""}/images/Cross-drop graphic.png`),Le(4),l(Oe);var tt=a(Oe,2),Tt=r(tt);_(Tt,"href",`${m??""}/home`),Le(2),l(tt),l(Ie);var Pe=a(Ie,2),at=r(Pe),De=r(at),st=r(De),it=a(r(st)),Gt=r(it,!0);l(it),l(st),l(De);var Ee=a(De,2);let lt;var Se=a(r(Ee),2);be(Se);var rt=a(Se,2);Et(rt,{id:"State",label:"State",get options(){return t(K)},get value(){return t(n).state},set value(e){ee(n,t(n).state=e)},$$events:{keydown:e=>{e.key==="Enter"&&T()}},$$legacy:!0});var nt=a(rt,2);Et(nt,{id:"City",label:"City",get options(){return t(he)},get value(){return t(n).city},set value(e){ee(n,t(n).city=e)},$$events:{keydown:e=>{e.key==="Enter"&&T()}},$$legacy:!0});var we=a(nt,4);be(we);var Ce=a(we,4);be(Ce);var Ne=a(Ce,4);be(Ne);var ot=a(Ne,2),dt=r(ot),$t=a(dt,2);l(ot),l(Ee);var Me=a(Ee,2),ct=a(r(Me),2),vt=r(ct),ft=a(vt,2),pt=r(ft),xt=a(pt,2);l(ft),l(ct),l(Me);var ut=a(Me,2),Fe=r(ut),bt=a(r(Fe)),It=r(bt);{var Ot=e=>{var s=kt(),c=fe(s);Re(c,1,()=>t(y),He,(h,i,o)=>{var q=va(),E=fe(q),g=r(E),k=r(g,!0);l(g);var S=a(g),w=r(S,!0);l(S);var O=a(S),W=r(O,!0);l(O);var $=a(O),b=r($,!0);l($),l(E);var C=a(E,2);{var H=z=>{var A=ca(),de=r(A),Ae=a(r(de),2),P=r(Ae),M=a(P,4),ce=a(M,4),Q=a(ce,2),Ve=a(Q,4);l(Ae),l(de);var X=a(de),je=r(X);l(X),l(A),Y(ve=>{ue(A,1,`details-row ${ve??""}`,"svelte-fbqi4s"),v(P,`${t(i).date??""} | ${(t(i).time||"")??""} `),v(M,` ${(t(i).address||"")??""}, ${(t(i).city||"")??""} ${(t(i).state||"")??""} | ${(t(i).zip||"")??""} `),v(ce,` ${(t(i).tankGrade||"")??""} | `),v(Q,` ${(t(i).tankNo||"")??""} `),v(Ve,` ${(t(i).preventedDelivery||"")??""}`)},[()=>se(o)],pe),f("click",je,()=>ke(t(i))),f("click",A,()=>le(o)),N(z,A)};ze(C,z=>{t(D)[o]&&z(H)})}Y((z,A)=>{ue(E,1,`main-row ${z??""} ${t(D)[o]?"hover-row":""}`,"svelte-fbqi4s"),v(k,A),v(w,t(i).time),v(W,t(i).zip),v(b,t(i).preventedDelivery)},[()=>se(o),()=>ie(t(i).date)],pe),f("click",E,()=>le(o)),N(h,q)}),N(e,s)},Pt=e=>{var s=fa();N(e,s)};ze(It,e=>{t(y).length>0?e(Ot):e(Pt,!1)})}l(bt),l(Fe);var mt=a(Fe,2),Mt=r(mt);{var Ft=e=>{var s=kt(),c=fe(s);Re(c,1,()=>t(y),He,(h,i,o)=>{var q=ua(),E=r(q),g=r(E),k=r(g),S=r(k,!0);l(k),l(g);var w=a(g,2),O=r(w),W=r(O);l(O);var $=a(O,2),b=r($);l($);var C=a($,2),H=r(C);l(C);var z=a(C,2),A=r(z,!0);l(z),l(w),l(E);var de=a(E,2);{var Ae=P=>{var M=pa(),ce=a(r(M),4),Q=r(ce),Ve=r(Q);l(Q);var X=a(Q,2),je=a(r(X));l(X);var ve=a(X,2),gt=a(r(ve)),Bt=a(gt,2);l(ve);var Be=a(ve,2),Rt=a(r(Be));l(Be);var Ht=a(Be,2);l(ce),l(M),Y(()=>{v(Ve,`${t(i).date??""} | ${(t(i).time||"")??""}`),v(je,` ${(t(i).address||"")??""}, ${(t(i).city||"")??""} ${(t(i).state||"")??""} | ${(t(i).zip||"")??""}`),v(gt,` ${(t(i).tankGrade||"")??""} | `),v(Bt,` ${(t(i).tankNo||"")??""}`),v(Rt,` ${t(i).preventedDelivery??""}`)}),f("click",Ht,()=>ke(t(i))),N(P,M)};ze(de,P=>{t(D)[o]&&P(Ae)})}l(q),Y((P,M)=>{ue(q,1,`card ${P??""}`,"svelte-fbqi4s"),v(S,M),v(W,`Tank: T${t(i).tankNo??""}`),v(b,`Fuel: ${t(i).preventedDelivery??""}`),v(H,`Zip: ${t(i).zip??""}`),v(A,t(D)[o]?"▲":"▼")},[()=>se(o),()=>ie(t(i).date)==="Just now"?"Just now":`${ie(t(i).date)} ${t(i).time}`],pe),f("click",q,()=>le(o)),N(h,q)}),N(e,s)},Vt=e=>{var s=ba();N(e,s)};ze(Mt,e=>{t(y).length>0?e(Ft):e(Vt,!1)})}l(mt),l(ut),l(at),l(Pe);var yt=a(Pe,2),ht=r(yt),jt=a(r(ht),2);return _(jt,"src",`${m??""}/images/logo.png`),l(ht),l(yt),Y(e=>{v(Gt,t(U)?"▲":"▼"),lt=ue(Ee,1,"search-fields svelte-fbqi4s",null,lt,e)},[()=>({visible:t(U)})],pe),f("click",De,ae),me(Se,()=>t(n).address,e=>ee(n,t(n).address=e)),f("keydown",Se,e=>{e.key==="Enter"&&T()}),me(we,()=>t(n).zip,e=>ee(n,t(n).zip=e)),f("keydown",we,e=>{e.key==="Enter"&&T()}),me(Ce,()=>t(n).date,e=>ee(n,t(n).date=e)),f("keydown",Ce,e=>{e.key==="Enter"&&T()}),me(Ne,()=>t(n).fuel,e=>ee(n,t(n).fuel=e)),f("keydown",Ne,e=>{e.key==="Enter"&&T()}),f("click",dt,T),f("click",$t,Ge),f("click",vt,re),f("click",pt,_t(ne)),f("click",xt,_t(G)),N(ye,Z),Ct(d,"updateDateTime",V),wt({updateDateTime:V})}export{Ia as component,xa as universal};
